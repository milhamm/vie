// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Lab {
  id  String  @id @default(cuid())
  admin_id String?
  lab_admin Users? @relation(fields: [admin_id], references: [id], onDelete: Cascade)
  lab_name  String
  color_code  String
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt  @default(now())
}

model LabMember {
  id  String  @id @default(cuid())
  lab_id  String?
  lab Lab? @relation(fields: [lab_id], references: [id], onDelete: Cascade)
  user_id String?
  user  Users? @relation(fields: [user_id], references: [id], onDelete: Cascade)
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt  @default(now())
}

model Team {
  id  String  @id @default(cuid())
  competition_id  String?
  competition Competition?  @relation(fields: [competition_id], references: [id], onDelete: Cascade)
  leader_id String?
  leader  Users? @relation(fields: [leader_id], references: [id], onDelete: Cascade)
  team_name String
  max_member  Int
  roles_offered String
  color_code  String
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt  @default(now())
}

model TeamMember {
  id  String  @id @default(cuid())
  team_id String?
  team  Team? @relation(fields: [team_id], references: [id], onDelete: Cascade)
  user_id String?
  user  Users?  @relation(fields: [user_id], references: [id], onDelete: Cascade)
  status  Int
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt  @default(now())
}

model Competition {
  id  String  @id @default(cuid())
  name  String
  organizer String
  description String? @db.Text
  guidebookk  String?
  category  String
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt  @default(now())
}